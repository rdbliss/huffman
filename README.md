# Huffman Codes

This repository is holds a simple implementation of n-ary [Huffman
coding](https://en.wikipedia.org/wiki/Huffman_coding) in Python.

Huffman coding is a method of encoding messages with variable length,
prefix-free codes that minimizes the average message length. That means that
usually messages sent with Huffman codes are, on average, shorter and fairly
easy to decode. More details can be found in Huffman's original paper, kept
[here](./huffman.pdf).

Without doing much research, binary Huffman codes seem to be familiar to people
in the know, but n-ary Huffman codes seem to be rarer.
[Wikipedia](https://en.wikipedia.org/wiki/Huffman_coding#n-ary_Huffman_coding)
even says that "for n greater than 2, not all sets of source words can
properly form an n-ary tree for Huffman coding" (2016-03-27). Where this is
coming from is a bit of a mystery, because Huffman clearly gives a way to
construct n-ary codes. For more about this, see "Generalization" in
[notes.md](./nodes.md).

## Basic Usage

````
import huffman
import freq

example = "large corpus of text"
frequency_dict = freq.str_freq(example)
freqs = list(frequency_dict.items())

ternary_huffman = huffman.HuffmanCode(freqs, 3)

print(ternary_huffman.decode(ternary_huffman.encode(example)))
````

## Demo Run

````
$ ./demo.py
The probabilities sum to 1.0000000000000002 (!= 1)...
(but they are close)
ascii encoding:
010011010111100100100000011011010110100101110011011101000111001001100101011100110111001100100111001000000110010101111001011001010111001100100000011000010111001001100101001000000110111001101111011101000110100001101001011011100110011100100000011011000110100101101011011001010010000001110100011010000110010100100000011100110111010101101110001110110000101001000011011011110111001001100001011011000010000001101001011100110010000001100110011000010111001000100000011011010110111101110010011001010010000001110010011001010110010000100000011101000110100001100001011011100010000001101000011001010111001000100000011011000110100101110000011100110010011100100000011100100110010101100100001110110000101001001001011001100010000001110011011011100110111101110111001000000110001001100101001000000111011101101000011010010111010001100101001011000010000001110111011010000111100100100000011101000110100001100101011011100010000001101000011001010111001000100000011000100111001001100101011000010111001101110100011100110010000001100001011100100110010100100000011001000111010101101110001110110000101001001001011001100010000001101000011000010110100101110010011100110010000001100010011001010010000001110111011010010111001001100101011100110010110000100000011000100110110001100001011000110110101100100000011101110110100101110010011001010111001100100000011001110111001001101111011101110010000001101111011011100010000001101000011001010111001000100000011010000110010101100001011001000010111000001010010010010010000001101000011000010111011001100101001000000111001101100101011001010110111000100000011100100110111101110011011001010111001100100000011001000110000101101101011000010111001101101011001001110110010000101100001000000111001001100101011001000010000001100001011011100110010000100000011101110110100001101001011101000110010100101100000010100100001001110101011101000010000001101110011011110010000001110011011101010110001101101000001000000111001001101111011100110110010101110011001000000111001101100101011001010010000001001001001000000110100101101110001000000110100001100101011100100010000001100011011010000110010101100101011010110111001100111011000010100100000101101110011001000010000001101001011011100010000001110011011011110110110101100101001000000111000001100101011100100110011001110101011011010110010101110011001000000110100101110011001000000111010001101000011001010111001001100101001000000110110101101111011100100110010100100000011001000110010101101100011010010110011101101000011101000000101001010100011010000110000101101110001000000110100101101110001000000111010001101000011001010010000001100010011100100110010101100001011101000110100000100000011101000110100001100001011101000010000001100110011100100110111101101101001000000110110101111001001000000110110101101001011100110111010001110010011001010111001101110011001000000111001001100101011001010110101101110011001011100000101001001001001000000110110001101111011101100110010100100000011101000110111100100000011010000110010101100001011100100010000001101000011001010111001000100000011100110111000001100101011000010110101100101100001000000111100101100101011101000010000001110111011001010110110001101100001000000100100100100000011010110110111001101111011101110000101001010100011010000110000101110100001000000110110101110101011100110110100101100011001000000110100001100001011101000110100000100000011000010010000001100110011000010111001000100000011011010110111101110010011001010010000001110000011011000110010101100001011100110110100101101110011001110010000001110011011011110111010101101110011001000011101100001010010010010010000001100111011100100110000101101110011101000010000001001001001000000110111001100101011101100110010101110010001000000111001101100001011101110010000001100001001000000110011101101111011001000110010001100101011100110111001100100000011001110110111100111011000010100100110101111001001000000110110101101001011100110111010001110010011001010111001101110011001011000010000001110111011010000110010101101110001000000111001101101000011001010010000001110111011000010110110001101011011100110010110000100000011101000111001001100101011000010110010001110011001000000110111101101110001000000111010001101000011001010010000001100111011100100110111101110101011011100110010000111010000010100010000000100000001000000100000101101110011001000010000001111001011001010111010000101100001000000110001001111001001000000110100001100101011000010111011001100101011011100010110000100000010010010010000001110100011010000110100101101110011010110010000001101101011110010010000001101100011011110111011001100101001000000110000101110011001000000111001001100001011100100110010100001010001000000010000000100000010000010111001100100000011000010110111001111001001000000111001101101000011001010010000001100010011001010110110001101001011001010110010000100000011101110110100101110100011010000010000001100110011000010110110001110011011001010010000001100011011011110110110101110000011000010111001001100101001011100010000000001010

binary encoding:
111010011100111001111101011011001110010100111100110010111110000111001110111100000100101001100111101101011100010110110111101111111001101101011010010001100111000101011001100100010111101011110111011111010010110101010010011011000101101100001110101010010100011111011010101001100101001110000001110001010100111100001010111010001101101011010011011100101111100010100111000010111101110111000111110101001100111101101011011100111111001100110111010110110111000111001010011011101011001110011100010101111110000101011101000111111010100110100110011100110000010010100110010000100010111101011110111011100011111010100010101001011010101100001111110011001101111011010100111100100101001111110110110010010111001001000011011110110101001111000011111111010110101101110011010111100001010111010000101011010010000111010001110111000110001010100101110101100110001101111110001010110101100011110000100000100111110010011001001001011111010000100101001010011100000001001111010000001101110101101101110001110010111101110011001110001011100001111011010001100100010101110001010010101101011000111100001100011011001000110010110111100001010111010001011100010101101110010011001011110111011101111111111010000001011011110001100110101111100110010011010111010111010110001011111001111000010110110000111000101011101001100111110110101010011001000001111011010110111111101011110011101110011000010101001111000101101111000111000101011001111110101001101001110001010011100010101001110000111010110101101011111000111110100111001111101011011001110010100111100110000101001101110010011001110100011101110001100110110110101011101011001110011010000101011010010100001010111010001100100110101101001001001001010010011101111100001101110111101101101100010001100100100111101101011011111101110011000010101001110000111110100010110010110101110000010101001110001010001000011101010100101000111110110101010011001001101110110011010011001011011110111111100110011010100010111101000010111101110111000110011111111010010011110111000010001100111100111011101011101000110001001101110001000011111111101010000100000111100110000111111111010101111011101111101001110011100111110101101100111001010011110011001001010011011101010111111000110001010110011011101001101101001001100100101001110010100110100100001100001101011110001110001010110011111111010110101000101111010000100110010111011000000101111111111010000001001110111110010010100111111010011100010101101001011101011111101001010010001100111000101101101111010010000111110100111001101101101010111010110001001100001010010010100111110110000001011111111000001001111010011100110001010110011111100111101101011001110000001101111011011100010100111010101001101101100011001011100110101111101001101010010100111110100000111011

hex encoding:
e73eff35c7bdcce0fdefdcf9bdf867a58eaf05eddf7adfceb8e62e726b90f5cfe89bf36bdfbd4f7a98fadbf05e3ce0fbd4e62ece8fc861fe9df1a57deef1aeff7ad8fadbfe9bd9c7cf9bdf4eb8e62ece8fa95bcfe9df15bdceefe909e4edf15bdcfeab61f68fadbfad94e22ecfa9e5dfcdd8fb6cdcf4939cede04eefbd4f984f1a57dee2e71eb7f86fcebe4afb6cdcfcddfecf58fadbfe4addedce62e184f58fc63dfe3dbe8eb3dcf5cf7adbdf36bdf4d05eaa72e74a98f58f7adfe9bd97af7a97fe8b63f3eff35c7bdccfbddedce22ecf06e5df76fad9bfadbfce3d9edeefefd7f1d00fecfed8612e74a97f3ebc5e4fa97af9fe89bf36bdfe30d9c58eafc6eb84e62ecfeab987fecf8de5dbfc91f9fea644dccfea6e62e73eff35c7bdcceef1ad8fcadf190edceef7bd94cf68f7adfeab6eb84e702fffe184fefd7eefe9effad9e5d8eefecf7a58edf3eff06e5df9cfb9bd2fffe1cf98effcadfe9d05d4f157afe890cdfe463e39bde2f2

Decoding hex:
My mistress' eyes are nothing like the sun;
Coral is far more red than her lips' red;
If snow be white, why then her breasts are dun;
If hairs be wires, black wires grow on her head.
I have seen roses damask'd, red and white,
But no such roses see I in her cheeks;
And in some perfumes is there more delight
Than in the breath that from my mistress reeks.
I love to hear her speak, yet well I know
That music hath a far more pleasing sound;
I grant I never saw a goddess go;
My mistress, when she walks, treads on the ground:
   And yet, by heaven, I think my love as rare
   As any she belied with false compare. 

Sizes relative to ascii:
     ascii: 1.0
    binary: 0.5426829268292683
       hex: 0.1475609756097561
````
